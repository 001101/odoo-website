<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>
    <!--
         **
         **     Mobile layout
         **
    -->
    <template id="mobile_layout" name="Mobile Main layout">
      &lt;!DOCTYPE html&gt;
      <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-website-id="website.id if editable and website else None" t-att-data-editable="'1' if editable else None" t-att-data-translatable="'1' if translatable else None" t-att-data-view-xmlid="xmlid if editable else None" t-att-data-main-object="repr(main_object) if editable else None" t-att-data-oe-company-name="res_company.name">
        <head>
          <meta charset="utf-8" />
          <t t-if="main_object and 'website_meta_title' in main_object and not title">
            <t t-set="title" t-value="main_object.website_meta_title" />
          </t>
          <t t-if="main_object and 'name' in main_object and not title and not additional_title">
            <t t-set="additional_title" t-value="main_object.name" />
          </t>
          <t t-if="not title">
            <t t-set="title">
              <t t-if="additional_title">
                <t t-raw="additional_title" />
                |
              </t>
              <t t-esc="(website or res_company).name" />
            </t>
          </t>
          <meta name="viewport" content="initial-scale=1" />
          <meta name="description" t-att-content="main_object and 'website_meta_description' in main_object
                        and main_object.website_meta_description or website_meta_description" />
          <meta name="keywords" t-att-content="main_object and 'website_meta_keywords' in main_object
                        and main_object.website_meta_keywords or website_meta_keywords" />
          <meta name="generator" content="Odoo" />
          <title>
            <t t-esc="title" />
          </title>
          <t t-set="languages" t-value="website.get_languages() if website else None" />
          <t t-if="request and request.website_multilang and website">
<!--
            <t t-foreach="website.get_alternate_languages(request.httprequest)" t-as="lg">
              <link rel="alternate" t-att-hreflang="lg['hreflang']" t-att-href="lg['href']" />
            </t>
-->
          </t>
          <t t-call-assets="web.assets_common" t-js="false" />
          <t t-call-assets="website.assets_frontend" t-js="false" />
          <t t-raw="head or ''" name="layout_head" />
          <link href="/website_mobile/static/src/css/website_mobile.css" rel="stylesheet" />
          <link href="/website_mobile/static/src/css/bootstrap-switch.css" rel="stylesheet" />
        </head>
        <body>
          <div id="wrapwrap">
            <header>
              <div class="navbar navbar-default navbar-static-top navbar-fixed-top">
                <div class="container">
                  <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-top-collapse">
                      <span class="sr-only">Toggle navigation</span>
                      <span class="icon-bar" />
                      <span class="icon-bar" />
                      <span class="icon-bar" />
                    </button>
                    <h3 id="title" class="text-center">
                      <strong>
                        <a onclick="return window.history.back();">
                          <i class="fa fa-angle-left pull-left" />
                        </a>
                        <span t-esc="title" />
                      </strong>
                    </h3>
                  </div>
                  <div class="collapse navbar-collapse navbar-top-collapse">
                    <ul class="nav navbar-nav navbar-right" id="top_menu">
                      <t t-foreach="website.menu_id.child_id" t-as="submenu">
                        <t t-call="website.submenu" />
                      </t>
                      <li class="divider" t-ignore="true" t-if="website.user_id != user_id" />
                      <li class="dropdown" t-ignore="true" t-if="website.user_id != user_id">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                          <b>
                            <span t-esc="user_id.name" />
                            <span class="caret" />
                          </b>
                        </a>
                        <ul class="dropdown-menu js_usermenu" role="menu">
                          <li>
                            <a href="/web" role="menuitem">My Account</a>
                          </li>
                          <li class="divider" />
                          <li>
                            <a t-attf-href="/web/session/logout?redirect=/" role="menuitem">Logout</a>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </header>
            <main>
              <!-- Search Modal -->
              <div id="search_modal" class="modal fade" role="dialog">
                <div class="modal-dialog">
                  <!-- Modal content-->
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">x</button>
                      <h4 class="modal-title text-center">Search</h4>
                    </div>
                    <div class="modal-body">
                      <form id="search_form" method="post" t-attf-action="#{ search }" class="pagination" style="display: block;">
                        <div class="input-group">
                          <input type="text" class="search-query form-control" placeholder="Search..." name="search_words" />
                          <span class="input-group-btn">
                            <button type="submit" class="btn btn-primary">
                              <i class="fa fa-search" />
                              Search
                            </button>
                          </span>
                        </div>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                  </div>
                </div>
              </div>
              <t t-raw="0" />
            </main>
            <footer class="footer-fixed-bottom footer-default">
              <div id="footer_container">
                  <!--  use footer_icons ---  self.footer_view = [('home','','fa-home'),('add','add','fa-plus'),('search_button','','fa-search')]  -->

                <ul class="nav nav-tabs nav-justified text-center">
                  <li id="li-left">
                    <h3>
                      <a t-attf-href="#{ crud.root }">
                        <i class="fa fa-home" />
                      </a>
                    </h3>
                  </li>
                  <li id="li-middle">
                    <h3>
                      <a t-attf-href="#{ add }">
                        <i class="fa fa-plus" />
                      </a>
                    </h3>
                  </li>
                  <li id="li-right">
                    <h3>
                      <a>
                        <i id="search_button" class="fa fa-search" data-toggle="modal" data-target="#search_modal" />
                      </a>
                    </h3>
                  </li>
                </ul>
              </div>
            </footer>
          </div>
          <t t-call-assets="web.assets_common" t-css="false" />
          <t t-call-assets="website.assets_frontend" t-css="false" />
          <script t-if="website and website.google_analytics_key">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            
            ga('create', _.str.trim('
            <t t-esc="website.google_analytics_key" />
            '), 'auto');
            ga('send','pageview');
          </script>
          <script src="/website_mobile/static/src/js/website_mobile.js" type="text/javascript" />
          <script src="/website_mobile/static/src/js/bootstrap-switch.js" type="text/javascript" />
        </body>
      </html>
    </template>
    <!--
         **
         **   Object listing
         **
         **
    -->
    <template id="list" name="Object List">
      <t t-set='footer_icons' t-value="crud.footer_list or crut.footer_icons"/>
      <t t-call="website_mobile.mobile_layout">
        <div>
          <!-- Content Zone -->
          <div class="content">
               <!-- Alerts -->
            <t t-foreach="request.context.get('alerts',[])" t-as="alert" >
              <div t-att-class="' '.join(['alert','alert-'+alert.get('type','success')])" role='alert'>
                <strong t-esc="alert.get('subject')" />
                <span t-esc="alert.get('message')" />
              </div>
            </t>
              
            <!-- List Contacts -->
            <ul t-if="objects" class="">
              <li t-foreach="objects" t-as="object" class="">
                <a class="navigate-right" t-attf-href="#{ crud.root }#{ object.id }" data-transition="slide-in">
                  <h3>
                    <span t-esc="object.name" />
                    <i class="fa fa-angle-right pull-right" style="padding-right: 40px;" />
                  </h3>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </t>
    </template>
    <!--
         **
         **   Object detail
         **
         **
    -->
    <template id="detail" name="Object Detail Information">
      <t t-set='footer_icons' t-value="crud.footer_view or crud.footer_icons"/>
      <t t-if="mode == 'edit'">
        <t t-set='footer_icons' t-value="crud.footer_edit or crud.footer_icons"/>
      </t>
      <t t-call="website_mobile.mobile_layout">
        <!-- Content Zone -->
        <div class="container mt32 mb32">
          <form t-attf-action="" method="post" t-att-class="crud.form_type">
            <!-- Alerts -->
            <t t-foreach="request.context.get('alerts',[])" t-as="alert" >
              <div t-att-class="' '.join(['alert','alert-'+alert.get('type','success')])" role='alert'>
                <strong t-esc="alert.get('subject')" />
                <span t-esc="alert.get('message')" />
              </div>
            </t>
            <!-- fields -->
            <div t-foreach="crud.fields_info" t-as="field" class="form-group">
              <t t-if="field.type == 'text'      and mode =='edit'">
                <t t-call="website_mobile.input_text" />
              </t>
              <t t-if="field.type == 'email'     and mode =='edit'">
                <t t-call="website_mobile.input_email" />
              </t>
              <t t-if="field.type == 'number'    and mode =='edit'">
                <t t-call="website_mobile.input_number" />
              </t>
              <t t-if="field.type == 'boolean'   and mode =='edit'">
                <t t-call="website_mobile.input_boolean" />
              </t>
              <t t-if="field.type == 'selection' and mode =='edit'">
                <t t-call="website_mobile.input_selection" />
              </t>
              <t t-if="field.type == 'textarea'  and mode =='edit'">
                <t t-call="website_mobile.input_textarea" />
              </t>
              <t t-if="field.type == 'boolean' and mode =='view'">
                <t t-call="website_mobile.view_boolean" />
              </t>
              <t t-if="field.type != 'boolean' and mode =='view'">
                <t t-call="website_mobile.view_text" />
              </t>
            </div>
            <button t-if="mode == 'edit'" class="btn btn-success btn-lg mt32 mb32" name="btn-save" value="btn-save" type="submit">Save</button>
          </form>
          <div class="container">
            <t t-if="object">
              <h2>
                <a t-if="mode=='view'" class="fa fa-trash pull-left" t-attf-href="#{ crud.root }#{ object.id }/delete" onclick="return confirm('Are you sure?')" ontouchend="return confirm('Are you sure?')" />
              </h2>
              <h2>
                <a t-if="mode=='view'" class="fa fa-pencil-square-o pull-right" t-attf-href="#{ crud.root }#{ object.id }/edit" />
              </h2>
            </t>
          </div>
        </div>
      </t>
    </template>
    <!-- form fileds -->
    <!--
    *
    *   input_text
    *
    -->
    <template id="input_text">
      <!-- field label -->
      <label>
        <t t-esc="field.string" />
      </label>
      <!-- text -->
      <input t-att-class="' '.join(['form-control',crud.input_size or '',field.state().get('focus',''),field.state().get('validation',''),field.state().get('disabled','')])" t-att-name="field.name" t-att-type="field.type" t-att-value="field.get_value(object)" t-att-placeholder="field.placeholder" t-att-required="field.required" t-att-help="field.help" t-att-areadescribedby="'help-'+field.name" />
      <span t-att-id="'help-'+field.name" class="help-block">
        <t t-esc="field.help" />
        <strong t-esc="field.state().get('help')" />
      </span>
    </template>
    <!--
    *
    *   input_email
    *
    -->
    <template id="input_email">
      <!-- field label -->
      <label>
        <t t-esc="field.string" />
      </label>
      <!-- text -->
      <input class="form-control input-xs" t-att-name="field.name" t-att-type="field.type" t-att-value="field.get_value(object)" t-att-placeholder="field.placeholder" t-att-required="field.required" t-att-help="field.help" />
    </template>
    <!--
    *
    *   input_number
    *
    -->
    <template id="input_number">
      <!-- field label -->
      <label>
        <t t-esc="field.string" />
      </label>
      <!-- text -->
      <input class="form-control input-xs" t-att-name="field.name" t-att-type="field.type" t-att-value="field.get_value(object)" t-att-placeholder="field.placeholder" t-att-required="field.required" t-att-help="field.help" t-att-step="field.step" />
    </template>
    <!--
    *
    *   input_boolean
    *
    -->
    <template id="input_boolean">
      <!-- field label -->
      <label>
        <t t-esc="field.string" />
      </label>
      <input t-att-name="field.name" type="checkbox" class="switch-checkbox" t-att-checked="1 if field.get_value(object) else 0" />
    </template>
    <!--
    *
    *   input_selection
    *
    -->
    <template id="input_selection">
      <label>
        <t t-esc="field.string" />
      </label>
      <select t-att-name="field.name" class="form-control selectpicker dropdown">
        <t t-foreach="field.get_selection(object)" t-as="option">
          <option t-att-value="option[0]" t-att="{'selected': 'checked'} if option[0] == field.get_value(object) else {}">
            <t t-raw="option[1]" />
          </option>
        </t>
      </select>
    </template>
    <!--
    *
    *   input_textarea
    *
    -->
    <template id="input_textarea">
      <label>
        <t t-esc="field.string" />
      </label>
      <textarea class="form-control input-xs" t-att-name="field.name" t-att-type="field.type" t-att-placeholder="field.placeholder" t-att-required="field.required" t-att-help="field.help">
        <t t-esc='field.get_value(object)' />
      </textarea>
    </template>
    <!--
    *
    *   view_boolean
    *
    -->
    <template id="view_boolean">
      <label>
        <t t-esc="field.string" />
      </label>
      <!-- form-control-static -->
      <span t-esc="'Yes' if field.get_value(object) else 'No'" />
    </template>
    <!--
    *
    *   view_text
    *
    -->
    <template id="view_text">
      <label>
        <t t-esc="field.string" />
      </label>
      <span t-esc="field.get_value(object)" />
    </template>
    <!-- hide footer -->
    <template id="hide_footer" inherit_id="website.layout">
      <xpath expr="//footer" position="attributes">
        <attribute name="class">hidden</attribute>
      </xpath>
    </template>
    <!-- inherit bottom menu -->
    <template id="bottom_menu" inherit_id="website_mobile.mobile_layout">
      <xpath expr="//div[@id='footer_container']/ul" position="inside" />
    </template>


    <!-- javascript -->
    <template id="mobile_javascript" inherit_id="website_mobile.mobile_layout">
      <xpath expr="//body" position="inside">
        <script>$(".switch-checkbox").bootstrapSwitch();
          
          /*
          $(document).ready(function() {
          document.getElementById("database").value = localStorage.getItem("database");
          document.getElementById("username").value = localStorage.getItem("username");
          document.getElementById("password").value = localStorage.getItem("password");
          });
          
          function set_login(){
          localStorage.setItem("database", document.getElementById("database").value);
          localStorage.setItem("username", document.getElementById("username").value);
          localStorage.setItem("password", document.getElementById("password").value);
          }
          */</script>
      </xpath>
    </template>
  </data>
</openerp>